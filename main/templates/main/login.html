{% extends "global/base.html" %}
{% load static %}

{% block title %}Login / Register{% endblock title %}
{% block css %}
	<link rel="stylesheet" href="{% static 'main/css/login.css' %}">
{% endblock css %}

{% block content %}
	<div class="container">
		<div class="section"></div>

		<div class="row wow animated fadeIn">
			<div class="col s12">
				<ul class="tabs tabs-fixed-width">
					{% if login %}
						<li class="tab col s6"><a href="#login" class="active">Login</a></li>
						<li class="tab col s6"><a href="#register">Register</a></li>
					{% else %}
						<li class="tab col s6"><a href="#login">Login</a></li>
						<li class="tab col s6"><a href="#register" class="active">Register</a></li>
					{% endif %}
				</ul>

				<div id="login" class="col s12">
					<h2>Login</h2>
					{% if login_error %}
						<p style="color: #d84141 !important;">
							{{ login_error }}
						</p>
					{% endif %}
					<form action="{% url 'login' %}" method="post">
						{% csrf_token %}
						<div class="row">
							<div class="input-field col s12 username">
								<label class="active">Username</label>
								<input placeholder=" " class="validate"
									id="login_field_username" type="text"
									name="username" required>
							</div>
						</div>

						<div class="row">
							<div class="input-field col s12">
								<label class="active">Password</label>
								<input placeholder=" " class="validate" id="login_field_pass"
									type="password"
									name="password" required>
							</div>
						</div>

						<div class="row">
							<div class="col s12 center-align">
								<button type="submit" class="btn waves-effect waves-light valign-wrapper">
									Submit
								</button>
							</div>
						</div>
					</form>

					<div class="section"></div>
					<p>Not a member of the TP community yet? <a href="{% url 'register' %}" id="btnContinue">Register
						now!</a></p>
					<p><a href="{% url 'forgot' %}">Forgot your username or password?</a></p>
				</div>

				<div id="register" class="col s12">
					<h2>Registration</h2>
					{% if register_errors %}
						<ul style="color: #d84141 !important;">
							{% for error in register_errors %}
								<li>{{ error }}</li>
							{% endfor %}
						</ul>
					{% endif %}
					<form action="{% url 'register' %}" method="post">
						{% csrf_token %}
						<div class="row">
							<div class="input-field col s12">
								<label class="active">Full Name</label>
								<input placeholder=" " value="{{ register_name }}" class="validate"
									id="field_name" type="text" name="name" required>
							</div>

							<div class="input-field col s12">
								<label class="active">Email</label>
								<input placeholder=" " value="{{ register_email }}" class="validate"
									id="field_mail" type="email"
									name="email" required>
							</div>

							<div class="input-field col s12 m6">
								<label class="active">Mobile Number</label>
								<input placeholder=" " value="{{ register_number }}" class="validate"
									id="field_num" type="tel"
									name="number" required>
							</div>

							<div class="input-field col s12 m6">
								<label class="active">Username</label>
								<input placeholder=" " value="{{ register_username }}" class="validate"
									id="field_username" type="text"
									name="username"
									required>
							</div>

							<div class="input-field col s12 m6">
								<label class="active">Password</label>
								<input placeholder=" " class="validate" id="field_pass" type="password"
									name="password"
									required>
							</div>

							<div class="input-field col s12 m6">
								<label class="active">Repeat Password</label>
								<input placeholder=" " class="validate" id="field_rep" type="password"
									name="password2"
									required>
							</div>
						</div>

						<div class="row">
							<div class="col s12 center-align">
								<button type="submit" class="btn waves-effect waves-light valign-wrapper">
									Submit
								</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div class="section"></div>
	</div>
{% endblock content %}

{% block js %}
	<script src="{% static 'main/js/login.js' %}"></script>
{% endblock js %}
